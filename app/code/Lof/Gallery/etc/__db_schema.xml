<?xml version="1.0" encoding="UTF-8"?>
<!--
/**
 * Created By : Elsner Technology Pvt. Ltd.
 */
-->
<schema xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:framework:Setup/Declaration/Schema/etc/schema.xsd">
   <table name="lof_gallery_banner_category" resource="default" engine="innodb" comment="Banner Category Table">
      <column xsi:type="smallint" name="category_id" padding="7" unsigned="false" nullable="false" identity="true" comment="Banner Category Id" />
      <column xsi:type="varchar" name="name" nullable="false" length="255" comment="Banner Category Name" />
      <column xsi:type="varchar" name="identifier" nullable="false" length="255" comment="Identifier" />
      <column xsi:type="smallint" name="is_active" nullable="false" default="1" comment="Active" />
      <column xsi:type="varchar" name="thumbnail_image" nullable="false" comment="Thumbnail Image" />
      <constraint xsi:type="primary" referenceId="PRIMARY">
         <column name="category_id" />
      </constraint>
   </table>

   <table name="lof_gallery_banner" resource="default" engine="innodb" comment="Banner Table">
      <column xsi:type="smallint" name="banner_id" padding="7" unsigned="false" nullable="false" identity="true" comment="Banner Id" />
      <column xsi:type="varchar" name="title" nullable="false" length="255" comment="Banner Title" />
      <column xsi:type="varchar" name="identifier" nullable="false" length="255" comment="Identifier" />
      <column xsi:type="smallint" name="is_active" nullable="false" default="1" comment="Active" />
      <column xsi:type="smallint" name="photo_type" nullable="false" default="1" comment="Photo type" />
      <column xsi:type="varchar" name="file" nullable="false" comment="Image file" />
      <column xsi:type="smallint" name="video_type" nullable="false" comment="Video type" />
      <column xsi:type="varchar" name="video_id" nullable="false" length="255" comment="Video Id" />
      <constraint xsi:type="primary" referenceId="PRIMARY">
         <column name="banner_id" />
      </constraint>
   </table>

   <table name="lof_gallery" resource="default" engine="innodb" comment="Gallery Table">
      <column xsi:type="smallint" name="category_id" nullable="false" comment="Banner Category Id" />
      <column xsi:type="smallint" name="banner_id" nullable="false" comment="Banner Id" />
      <column xsi:type="varchar" name="position" nullable="false" length="255" comment="Position" />
      <constraint xsi:type="primary" referenceId="PRIMARY">
         <column name="category_id" />
         <column name="banner_id" />
      </constraint>
      <constraint xsi:type="foreign" referenceId="lof_gallery_banner_category_banner" table="lof_gallery" column="banner_id" referenceTable="lof_gallery_banner" referenceColumn="banner_id"  onDelete="CASCADE"/>
      <constraint xsi:type="foreign" referenceId="lof_gallery_banner_category_category" table="lof_gallery" column="category_id" referenceTable="lof_gallery_banner_category" referenceColumn="category_id"  onDelete="CASCADE"/>
      <index referenceId="LOF_GALLERY_CATEGORY_ID" indexType="btree">
        <column name="category_id"/>
      </index>
      <index referenceId="LOF_GLR_BANNER_CTGR_BANNER_BANNER_ID_LOF_GLR_BANNER_BANNER_ID" indexType="btree">
        <column name="banner_id"/>
      </index>
   </table>
</schema>